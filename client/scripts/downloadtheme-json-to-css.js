// client/scripts/downloadtheme-json-to-css.js

const fs = require('fs')
const path = require('path')

// Change these paths to match your setup
// inputPath: points to the theme.json generated by the Vite plugin
const inputPath = path.resolve(__dirname, '../src/downloadtheme.json')
// outputPath: where you want the final CSS variables to go (e.g., theme.css in src)
const outputPath = path.resolve(__dirname, '../src/downloadtheme.css')

// Load theme JSON
const theme = JSON.parse(fs.readFileSync(inputPath, 'utf8'))

// Start building CSS output
const cssLines = [':root {']
for (const [key, value] of Object.entries(theme)) {
  cssLines.push(`  ${key}: ${value};`)
}
cssLines.push('}')

// Write to file
fs.writeFileSync(outputPath, cssLines.join('\n'), 'utf8')
console.log(`âœ… CSS variables written to ${outputPath}`)